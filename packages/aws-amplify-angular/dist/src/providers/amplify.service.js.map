{"version":3,"file":"amplify.service.js","sourceRoot":"","sources":["../../../src/providers/amplify.service.ts"],"names":[],"mappings":"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","sourcesContent":["// tslint:disable\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n// tslint:enable\n\nimport { Injectable, Optional, Inject } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport Amplify, { Logger, I18n } from '@aws-amplify/core';\nimport { AuthState } from './auth.state';\nimport { authDecorator } from './auth.decorator';\n\nimport { Analytics } from '@aws-amplify/analytics';\n\nimport { Auth } from '@aws-amplify/auth';\nimport { Storage } from '@aws-amplify/storage';\nimport { API } from '@aws-amplify/api';\nimport { PubSub } from '@aws-amplify/pubsub';\nimport { Interactions } from '@aws-amplify/interactions';\nimport { XR } from '@aws-amplify/xr';\n\n@Injectable()\nexport class AmplifyService {\n  private _auth: any;\n  private _analytics: any;\n  private _storage: any;\n  private _api: any;\n  private _cache: any;\n  private _pubsub: any;\n  private _interactions: any;\n  private _logger: any;\n  private _xr: any;\n  private _i18n: any;\n  private _authState = new Subject<AuthState>();\n  authStateChange$ = this._authState.asObservable();\n\n  constructor(\n    @Inject('modules')\n    @Optional()\n    private modules: any = {}\n  ) {\n    const source = modules || Amplify;\n\n    authDecorator(this._authState, source.Auth);\n\n    this._auth = source.Auth;\n    this._analytics = source.Analytics;\n    this._storage = source.Storage;\n    this._api = source.API;\n    this._cache = source.Cache;\n    this._pubsub = source.PubSub;\n    this._interactions = source.Interactions;\n    this._xr = source.XR;\n\n    // i18n and logger instantiated by default (do not change)\n    this._i18n = I18n;\n    this._logger = Logger;\n  }\n\n  auth(): any {\n    return this._auth || Auth;\n  }\n  analytics(): any {\n    return this._analytics || Analytics;\n  }\n  storage(): any {\n    return this._storage || Storage;\n  }\n  api(): any {\n    return this._api || API;\n  }\n  interactions(): any {\n    return this._interactions || Interactions;\n  }\n  cache(): any {\n    return this._cache;\n  }\n  pubsub(): any {\n    return this._pubsub || PubSub;\n  }\n  logger(name, level?): Logger {\n    return new this._logger(name, level);\n  }\n  xr(): any {\n    return this._xr || XR;\n  }\n  i18n(): any {\n    return this._i18n;\n  }\n\n  authState() {\n    return this._authState;\n  }\n  setAuthState(state: AuthState) {\n    this._authState.next(state);\n  }\n}\n"]}